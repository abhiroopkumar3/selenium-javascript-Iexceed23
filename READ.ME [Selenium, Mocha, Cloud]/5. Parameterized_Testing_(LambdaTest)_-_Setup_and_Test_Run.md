--START--OF--SETUP--





1. Create JavaScript file inside project root folder [Ex: paramTest.js]:

const {By,Key,Builder} = require("selenium-webdriver");
const ltCapabilities = require("../capabilities");
const assert = require("assert");

describe("lambdatest", function() {

    var driver;

    const USERNAME = ltCapabilities.capabilities.user;
    const KEY = ltCapabilities.capabilities.ACCESSKEY;
    const GRID_HOST = "hub.lambdatest.com/wd/hub";
    const gridUrl = "https://" + USERNAME + ":" + KEY + "@" + GRID_HOST;

    const URL = "https://www.google.com/";

    browsers = [
        { browser: "Chrome", bVersion: "93.0", os: "Windows 10" },
        { browser: "Firefox", bVersion: "91.0", os: "windows 10" }
    ];

    browsers.forEach((browser,bVersion,os) => {
        it(`googlesearch for browser ${browser}, ${bVersion}, ${os}`, async function() {

            ltCapabilities.capabilities.platformName = os
            ltCapabilities.capabilities.browserName = browser
            ltCapabilities.capabilities.browserVersion = bVersion


            ltCapabilities.capabilities.name = this.test.title;
            driver = new Builder().usingServer(gridUrl).withCapabilities(ltCapabilities.capabilities).build();

            await driver.manage().setTimeouts({implicit:10000});
            await driver.get(URL);
            await driver.findElement(By.name("q")).sendKeys("Selenium Testing Automation using JavaScript");
            await driver.findElement(By.xpath("(//input[@name='btnK'])[2]")).click();
                
            let verifyText = await driver.findElement(By.xpath("//h3[text()='Automation Testing with Selenium JavaScript [Tutorial]']")).getText().then (function (value) {
                return value;
            });

            assert.strictEqual(verifyText, "Automation Testing with Selenium JavaScript [Tutorial]");

            await driver.quit();
        });
    });

});

2. For headless testing, open capabilities.json :-
	(a) When performing headless testing, change "headless" value in var capbilities:
				"headless" : true
	(b) When not performing headless testing, change "headless" value in var capbilities:
				"headless" : false
				OR
				// "headless" : true
2. In terminal, open project root folder and run test :-
		npm test paramTest.js

3.	(a) Browser will not be launched in local system
	(b) Testing will occur in LambdaTest web browser
	(c) 3 custom test reports will be shown in terminal for three parameters
	(d) mochawesome-report folder is created in project root folder
	(e) mochawesome.json & mochawesome.html test report files are generated
	(f) LambdaTest dashboard will be updated in 'RECENT TESTS' with the latest test report 'Test Build'
	(g) Click on 'Test Build' to view test report [in headless testing, video will not be generated as browser is not rendered]






--END--OF--SETUP--
